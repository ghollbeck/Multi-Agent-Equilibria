2025-06-23 19:05:48,793 - INFO - 
==================================================
How Drift is Evaluated
==================================================

The drift is calculated as:
    Drift = |rows_returned - baseline_rows|

Where:
• baseline_rows: Number of rows returned by the baseline query (typically step 0 - the original story's SQL)
• rows_returned: Number of rows returned by each agent's SQL query  
• The result is the absolute difference in row counts

What the Values Mean:
• 0 drift: The SQL query returns exactly the same number of rows as the baseline
• Higher drift: The SQL query returns that many more/fewer rows than the baseline

This measures semantic drift in LLM chains - how meaning changes as stories pass through multiple agents
and how well the final SQL captures the original intent.
==================================================

2025-06-23 19:05:48,793 - INFO - Attempting to find baseline for step: 5
2025-06-23 19:05:48,793 - INFO - Executing baseline query for step 5: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' 
  AND grade_math_pass = 0 
  AND grade_science_pass = 0 
  AND grade_english_pass = 1 
  AND is_active = 1;
2025-06-23 19:05:48,794 - INFO - Baseline (step 5) row count: 0
2025-06-23 19:05:48,794 - INFO - ------------------------------
2025-06-23 19:05:48,794 - INFO - Executing query for step 0: SELECT * 
FROM students 
WHERE is_active = 0 
  AND is_highschool = 1 
  AND speaks_english = 1 
  AND grade_english_pass = 1 
  AND (grade_math_pass = 0 OR grade_science_pass = 0);
2025-06-23 19:05:48,795 - INFO - Step 0: 6 rows (diff: 6)
2025-06-23 19:05:48,795 - INFO - Executing query for step 1: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' 
  AND grade_math_pass = 0 
  AND grade_science_pass = 0 
  AND is_active = 1;
2025-06-23 19:05:48,795 - INFO - Step 1: 0 rows (diff: 0)
2025-06-23 19:05:48,795 - INFO - Executing query for step 2: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,795 - INFO - Step 2: 0 rows (diff: 0)
2025-06-23 19:05:48,795 - INFO - Executing query for step 3: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0 
AND is_active = 1;
2025-06-23 19:05:48,796 - INFO - Step 3: 0 rows (diff: 0)
2025-06-23 19:05:48,796 - INFO - Executing query for step 4: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,796 - INFO - Step 4: 0 rows (diff: 0)
2025-06-23 19:05:48,796 - INFO - Executing query for step 5: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' 
  AND grade_math_pass = 0 
  AND grade_science_pass = 0 
  AND grade_english_pass = 1 
  AND is_active = 1;
2025-06-23 19:05:48,796 - INFO - Step 5: 0 rows (diff: 0)
2025-06-23 19:05:48,796 - INFO - Executing query for step 6: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,796 - INFO - Step 6: 0 rows (diff: 0)
2025-06-23 19:05:48,796 - INFO - Executing query for step 7: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' 
  AND grade_math_pass = 0 
  AND grade_science_pass = 0 
  AND is_active = 1;
2025-06-23 19:05:48,796 - INFO - Step 7: 0 rows (diff: 0)
2025-06-23 19:05:48,796 - INFO - Executing query for step 8: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,797 - INFO - Step 8: 0 rows (diff: 0)
2025-06-23 19:05:48,797 - INFO - Executing query for step 9: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0 
AND is_active = 1;
2025-06-23 19:05:48,797 - INFO - Step 9: 0 rows (diff: 0)
2025-06-23 19:05:48,797 - INFO - Executing query for step 10: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,797 - INFO - Step 10: 0 rows (diff: 0)
2025-06-23 19:05:48,797 - INFO - Executing query for step 11: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,798 - INFO - Step 11: 0 rows (diff: 0)
2025-06-23 19:05:48,798 - INFO - Executing query for step 12: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,798 - INFO - Step 12: 0 rows (diff: 0)
2025-06-23 19:05:48,798 - INFO - Executing query for step 13: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0;
2025-06-23 19:05:48,798 - INFO - Step 13: 0 rows (diff: 0)
2025-06-23 19:05:48,798 - INFO - Executing query for step 14: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,798 - INFO - Step 14: 0 rows (diff: 0)
2025-06-23 19:05:48,798 - INFO - Executing query for step 15: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0 AND is_active = 1;
2025-06-23 19:05:48,798 - INFO - Step 15: 0 rows (diff: 0)
2025-06-23 19:05:48,798 - INFO - Executing query for step 16: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,798 - INFO - Step 16: 0 rows (diff: 0)
2025-06-23 19:05:48,798 - INFO - Executing query for step 17: SELECT * FROM students WHERE first_name = 'Olivia' AND is_active = 1;
2025-06-23 19:05:48,799 - INFO - Step 17: 0 rows (diff: 0)
2025-06-23 19:05:48,799 - INFO - Executing query for step 18: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,799 - INFO - Step 18: 0 rows (diff: 0)
2025-06-23 19:05:48,799 - INFO - Executing query for step 19: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson' AND grade_math_pass = 0 AND grade_science_pass = 0 AND is_active = 1;
2025-06-23 19:05:48,799 - INFO - Step 19: 0 rows (diff: 0)
2025-06-23 19:05:48,799 - INFO - Executing query for step 20: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,799 - INFO - Step 20: 0 rows (diff: 0)
2025-06-23 19:05:48,799 - INFO - Executing query for step 21: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,799 - INFO - Step 21: 0 rows (diff: 0)
2025-06-23 19:05:48,799 - INFO - Executing query for step 22: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,799 - INFO - Step 22: 0 rows (diff: 0)
2025-06-23 19:05:48,799 - INFO - Executing query for step 23: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,800 - INFO - Step 23: 0 rows (diff: 0)
2025-06-23 19:05:48,800 - INFO - Executing query for step 24: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,800 - INFO - Step 24: 0 rows (diff: 0)
2025-06-23 19:05:48,800 - INFO - Executing query for step 25: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:05:48,800 - INFO - Step 25: 0 rows (diff: 0)
2025-06-23 19:05:48,800 - INFO - ------------------------------
2025-06-23 19:05:49,384 - INFO - Plot saved to /Users/gaborhollbeck/Desktop/GitHub/32_Stanford_Research/Multi-Agent-Equilibria/Games/8_Chinese_Whisper2.0/results/run_2025-06-23_19-02-40/diff_vs_agent.png
2025-06-23 19:10:24,899 - INFO - 
==================================================
How Drift is Evaluated
==================================================

The drift is calculated as:
    Drift = |rows_returned - baseline_rows|

Where:
• baseline_rows: Number of rows returned by the baseline query (typically step 0 - the original story's SQL)
• rows_returned: Number of rows returned by each agent's SQL query  
• The result is the absolute difference in row counts

What the Values Mean:
• 0 drift: The SQL query returns exactly the same number of rows as the baseline
• Higher drift: The SQL query returns that many more/fewer rows than the baseline

This measures semantic drift in LLM chains - how meaning changes as stories pass through multiple agents
and how well the final SQL captures the original intent.
==================================================

2025-06-23 19:10:24,900 - INFO - Attempting to find baseline for step: 5
2025-06-23 19:10:24,900 - INFO - Executing baseline query for step 5: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' 
  AND grade_math_pass = 0 
  AND grade_science_pass = 0 
  AND grade_english_pass = 1 
  AND is_active = 1;
2025-06-23 19:10:24,900 - INFO - Baseline (step 5) row count: 0
2025-06-23 19:10:24,900 - INFO - ------------------------------
2025-06-23 19:10:24,900 - INFO - Executing query for step 0: SELECT * 
FROM students 
WHERE is_active = 0 
  AND is_highschool = 1 
  AND speaks_english = 1 
  AND grade_english_pass = 1 
  AND (grade_math_pass = 0 OR grade_science_pass = 0);
2025-06-23 19:10:24,901 - INFO - Step 0: 6 rows (diff: 6)
2025-06-23 19:10:24,901 - INFO - Executing query for step 1: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' 
  AND grade_math_pass = 0 
  AND grade_science_pass = 0 
  AND is_active = 1;
2025-06-23 19:10:24,901 - INFO - Step 1: 0 rows (diff: 0)
2025-06-23 19:10:24,901 - INFO - Executing query for step 2: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,901 - INFO - Step 2: 0 rows (diff: 0)
2025-06-23 19:10:24,901 - INFO - Executing query for step 3: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0 AND grade_english_pass = 1;
2025-06-23 19:10:24,901 - INFO - Step 3: 0 rows (diff: 0)
2025-06-23 19:10:24,901 - INFO - Executing query for step 4: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,902 - INFO - Step 4: 0 rows (diff: 0)
2025-06-23 19:10:24,902 - INFO - Executing query for step 5: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' 
  AND grade_math_pass = 0 
  AND grade_science_pass = 0 
  AND grade_english_pass = 1 
  AND is_active = 1;
2025-06-23 19:10:24,902 - INFO - Step 5: 0 rows (diff: 0)
2025-06-23 19:10:24,902 - INFO - Executing query for step 6: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,902 - INFO - Step 6: 0 rows (diff: 0)
2025-06-23 19:10:24,902 - INFO - Executing query for step 7: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' 
  AND grade_math_pass = 0 
  AND grade_science_pass = 0 
  AND is_active = 1;
2025-06-23 19:10:24,902 - INFO - Step 7: 0 rows (diff: 0)
2025-06-23 19:10:24,902 - INFO - Executing query for step 8: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,902 - INFO - Step 8: 0 rows (diff: 0)
2025-06-23 19:10:24,902 - INFO - Executing query for step 9: SELECT first_name, last_name 
FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0 
AND is_active = 1;
2025-06-23 19:10:24,902 - INFO - Step 9: 0 rows (diff: 0)
2025-06-23 19:10:24,902 - INFO - Executing query for step 10: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,903 - INFO - Step 10: 0 rows (diff: 0)
2025-06-23 19:10:24,903 - INFO - Executing query for step 11: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,903 - INFO - Step 11: 0 rows (diff: 0)
2025-06-23 19:10:24,903 - INFO - Executing query for step 12: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,903 - INFO - Step 12: 0 rows (diff: 0)
2025-06-23 19:10:24,903 - INFO - Executing query for step 13: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0 AND is_active = 1;
2025-06-23 19:10:24,903 - INFO - Step 13: 0 rows (diff: 0)
2025-06-23 19:10:24,903 - INFO - Executing query for step 14: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,903 - INFO - Step 14: 0 rows (diff: 0)
2025-06-23 19:10:24,903 - INFO - Executing query for step 15: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0 AND is_active = 1;
2025-06-23 19:10:24,903 - INFO - Step 15: 0 rows (diff: 0)
2025-06-23 19:10:24,903 - INFO - Executing query for step 16: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,904 - INFO - Step 16: 0 rows (diff: 0)
2025-06-23 19:10:24,904 - INFO - Executing query for step 17: SELECT * FROM students 
WHERE first_name = 'Olivia' 
AND (grade_math_pass = 0 OR grade_science_pass = 0);
2025-06-23 19:10:24,904 - INFO - Step 17: 0 rows (diff: 0)
2025-06-23 19:10:24,904 - INFO - Executing query for step 18: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,904 - INFO - Step 18: 0 rows (diff: 0)
2025-06-23 19:10:24,904 - INFO - Executing query for step 19: SELECT * FROM students 
WHERE first_name = 'Olivia' AND last_name = 'Hudson' 
AND grade_math_pass = 0 AND grade_science_pass = 0 AND is_active = 1;
2025-06-23 19:10:24,905 - INFO - Step 19: 0 rows (diff: 0)
2025-06-23 19:10:24,905 - INFO - Executing query for step 20: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,905 - INFO - Step 20: 0 rows (diff: 0)
2025-06-23 19:10:24,905 - INFO - Executing query for step 21: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,905 - INFO - Step 21: 0 rows (diff: 0)
2025-06-23 19:10:24,905 - INFO - Executing query for step 22: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,905 - INFO - Step 22: 0 rows (diff: 0)
2025-06-23 19:10:24,905 - INFO - Executing query for step 23: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,905 - INFO - Step 23: 0 rows (diff: 0)
2025-06-23 19:10:24,905 - INFO - Executing query for step 24: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,905 - INFO - Step 24: 0 rows (diff: 0)
2025-06-23 19:10:24,906 - INFO - Executing query for step 25: SELECT * FROM students WHERE first_name = 'Olivia' AND last_name = 'Hudson';
2025-06-23 19:10:24,906 - INFO - Step 25: 0 rows (diff: 0)
2025-06-23 19:10:24,906 - INFO - ------------------------------
2025-06-23 19:10:25,659 - INFO - Plot saved to /Users/gaborhollbeck/Desktop/GitHub/32_Stanford_Research/Multi-Agent-Equilibria/Games/8_Chinese_Whisper2.0/results/run_2025-06-23_19-02-40/diff_vs_agent.png
